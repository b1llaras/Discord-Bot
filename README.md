
# Discord Voice Channel Music Bot

## Περιγραφή

Το παρών repo αφορά την υλοποίηση ενός δείγματος Discord bot, το οποίο έχει ως κύρια λειτουργία την αλληλεπίδραση με χρήστες μέσω φωνητικών καναλιών (voice channels). Το bot υποστηρίζει την αναπαραγωγή μουσικού περιεχομένου από το YouTube, παρέχοντας ταυτόχρονα χρήσιμες βοηθητικές εντολές. Αφορμή του project ήταν η κατάργηση του [Rythm](https://discord.com/discovery/applications/235088799074484224).

Η ανάπτυξη πραγματοποιήθηκε με χρήση της βιβλιοθήκης `discord.py`, σε συνδυασμό με εργαλεία όπως `yt_dlp`, `FFmpeg`, και `inspirobot`.

---

## Βασικά Χαρακτηριστικά

- **Σύνδεση σε Voice Channel**: Το bot μπορεί να εντοπίσει το voice channel του χρήστη και να συνδεθεί αυτόματα.
- **Αναπαραγωγή Μουσικής από YouTube**: Υποστηρίζεται τόσο η αναπαραγωγή μεμονωμένων τραγουδιών όσο και playlist.
- **Διαχείριση Ουράς Αναπαραγωγής**: Οι χρήστες μπορούν να προβάλουν, προσθέτουν, παραλείπουν ή καθαρίζουν την ουρά.
- **Αυτόματη Αποσύνδεση**: Όταν το bot παραμένει μόνο του στο κανάλι, αποσυνδέεται αυτόματα.
- **Απαντήσεις σε Χαιρετισμούς**: Αναγνώριση και απάντηση σε βασικές χαιρετιστικές φράσεις.
- **Ενσωμάτωση με InspiroBot**: Δημιουργία τυχαίων "deep quotes" μέσω του InspiroBot API.

---

## Προαπαιτούμενα

## Απαιτήσεις Συστήματος

| Dependencies    | Ελάχιστη Έκδοση |
|--------------|-----------------|
| Python       | 3.8+            |
| discord.py   | 2.0+            |
| FFmpeg       | 4.0+            |


**Απαιτούμενες βιβλιοθήλες:**
| Dependencies    | Ελάχιστη Έκδοση |
|--------------|-----------------|
| discord.py[voice]       | 2.0.0            |
| yt-dlp   | 7.6            |
| APScheduler       | 3.9.0            |
| inspirobot | 1.0.3 |

**Εγκατάσταση των απαιτούμενων βιβλιοθηκών:**

```bash
pip install -r requirements.txt
```

> Το αρχείο `requirements.txt` περιέχει όλες τις απαραίτητες Python βιβλιοθήκες για την εκτέλεση του bot.



---

## Εκτέλεση

Η εκκίνηση του bot πραγματοποιείται μέσω του αρχείου `main.py`:

```bash
python main.py
```

> **Σημείωση**: Το token του bot πρέπει να τοποθετηθεί στην κατάλληλη θέση στο τέλος του αρχείου.

---


## Διαθέσιμες Εντολές Χρηστών

### Γενικές

| Εντολή      | Περιγραφή                                     |
|------------|-----------------------------------------------|
| `$ms`       | Επιστρέφει το latency του bot σε milliseconds |
| `$deep`     | Επιστρέφει μια τυχαία έμπνευση από το InspiroBot |

### Διαχείριση Voice Channel

| Εντολή        | Περιγραφή                                                                 |
|---------------|---------------------------------------------------------------------------|
| `$join`        | Συνδέει τον bot στο voice channel του χρήστη                             |
| `$leave`       | Αποσυνδέει τον bot από το voice channel                                   |
| `$yt <url>`    | Προσθέτει και παίζει τραγούδι/playlist από το YouTube                    |
| `$skip`        | Παραλείπει το τρέχον τραγούδι                                             |
| `$q`           | Εμφανίζει την τρέχουσα ουρά τραγουδιών                                    |
| `$clear`       | Καθαρίζει την ουρά                                                        |
| `$preloaded`   | Παίζει τυχαία επιλογή από προκαθορισμένο αρχείο URLs (`preloaded_songs.txt`) |
| `$vchelp`      | Εμφανίζει το αναλυτικό μήνυμα βοήθειας για τις φωνητικές εντολές         |

---

## Λειτουργική Ανάλυση

### 1. Διαδικασία Αναπαραγωγής

- Ο χρήστης εισάγει εντολή: `$yt <URL>`
- Το σύστημα εξάγει το audio stream χρησιμοποιώντας `yt-dlp`
- Το τραγούδι προστίθεται στην ουρά αναπαραγωγής του συγκεκριμένου server: `queue[guild_id]`
- Η αναπαραγωγή πραγματοποιείται μέσω `FFmpegPCMAudio`

### 2. Διαχείριση Ουράς

- **Δομή Δεδομένων**: Λεξικό με `guild_id` ως κλειδί και λίστα από πλειάδες `(URL, τίτλος)` ως τιμή
- **Μέθοδοι**:
  - `play_next()`: Αναδρομική συνάρτηση για αυτόματη διαδοχική αναπαραγωγή
  - `skip()`: Διακόπτει το τρέχον τραγούδι και προχωρά στο επόμενο (αν υπάρχει)


## Σχόλια και Βελτιώσεις

Η υλοποίηση παρέχει μια λειτουργική βάση για την ανάπτυξη πιο πολύπλοκων Discord bots. Μελλοντικές επεκτάσεις μπορεί να περιλαμβάνουν:
- Διαχείριση playlist ανά server.
- Χρήση data persistence για αποθήκευση ουρών.
- Διεπαφή με APIs μουσικής (π.χ. Spotify).
- Υποστήριξη φίλτρων ή εφέ ήχου.

---

## Νομική Σημείωση

Η χρήση περιεχομένου από το YouTube υπόκειται στους όρους χρήσης της πλατφόρμας. Ο δημιουργός του bot φέρει την ευθύνη για τον τρόπο χρήσης του εργαλείου.

---

## Συντάκτης

Το παρόν έργο αναπτύχθηκε ως ένα sample και παρουσιάζει τις βασικές αρχές λειτουργίας ενός music bot στο περιβάλλον του Discord.